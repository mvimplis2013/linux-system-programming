/* popen_glob.c
   Demonstrates the use of popen() and pclose().

   This program reads filename wildcharacter patterns from standard input and 
   passes each pattern to a popen() call that returns the output from ls(1) for
   the specific wildchard pattern. The program displays the returned output.
*/
int
main(int argc, char *argv[])
{
  /* Pattern for globbing */
  char pat[PAT_SIZE];
  char openCmd[PCDM_BUF_SIZE];
  /* File stream returned by popen */
  FILE *fp;
  /* Invalid characters in `pat` ? */
  Boolean badPattern;
  int len, status, fileCnt, j;
  char pathname[PATH_MAX];

  for (;;) {
    printf("pattern: ");
    fflush(stdout);
  
  
